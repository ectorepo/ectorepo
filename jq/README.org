#+title:     Ectorepo: JQ
#+author:    David Conner
#+email:     noreply@te.xel.io
#+PROPERTY: header-args :comments none

When using =repo init -u $url -m $manifest= instead of the git submodule to
checkout, the filepaths for =<include name=mnfst.xml/>= are relative to the root
repository.

#+begin_src xml :tangle default.xml
<manifest>
  <include name="_remotes.xml"/>
  <default remote="github" sync-j="8" revision="refs/heads/master"/>
  <include name="jq/jq.xml"/>
  <include name="jq/tools.xml"/>
  <include name="jq/jqnpm.xml"/>
  <include name="jq/eg.xml"/>
</manifest>
#+end_src

* JQ Lang

Also: [[https://github.com/wader/fq/blob/master/doc/usage.md][wader/fq]], a =jq= to work with hex & bins

#+begin_src xml :tangle jq.xml :noweb yes
<manifest>
  <project name="jqlang/jq" path="jq/jq" revision="refs/heads/master" remote="github" />
  <project name="wader/fq" path="fq" revision="refs/heads/master" remote="github" />
  <project name="itchyny/gojq" path="jq/gojq" revision="refs/heads/main" remote="github" />
  <project name="wader/jqjq" path="jq/jqjq" revision="refs/heads/master" remote="github" />
  <project name="wader/jq-lsp" path="jq/jq-lsp" revision="refs/heads/master" remote="github" />
  <project name="pkoppstein/JESS" path="jq/jess" revision="refs/heads/master" remote="github" />
</manifest>
#+end_src

** Tools

#+begin_src xml :tangle tools.xml :noweb yes
<manifest>
  <project name="jpmens/jo" path="tools/jo" revision="refs/heads/master" remote="github" />
  <project name="jtopjian/jsed" path="tools/jsed" revision="refs/heads/master" remote="github" />
  <project name="joelpurra/jq-hopkok" path="tools/jq-hopkok" revision="refs/heads/master" remote="github" />
  <project name="skanehira/gjo" path="tools/gjo" revision="refs/heads/master" remote="github" />
</manifest>
#+end_src

+ [[https://github.com/jpmens/jo/blob/master/jo.md][jpmens/jo]]: a CLI tool to instantiate simple json objects
+ [[https://github.com/skanehira/gjo][skanehira/gjo]]: same thing

misc

+ [[https://github.com/jtopjian/jsed][jtopjian/jsed]]: sed for json
+ [[https://github.com/json-e/json-e][json-e/json-e]]: parameterize/template json
+ [[https://github.com/micha/jsawk][micha/jsawk]]: awk for json

** JQNPM

[[https://github.com/jqnpm/jqnpm][jqnpm/jqnpm]]

| [[https://github.com/jqnpm/jq-dry][jqnpm/jq-dry]]       | [[https://github.com/jqnpm/jq-ratio-buckets][jqnpm/jq-ratio-buckets]]    | [[https://github.com/jqnpm/jq-key-counter][jqnpm/jq-key-counter]]     | [[https://github.com/jqnpm/jq-random-prng-microsoft][jqnpm/jq-random-prng-microsoft]] |
| [[https://github.com/jqnpm/jq-stress][jqnpm/jq-stress]]    | [[https://github.com/jqnpm/jq-interval-buckets][jqnpm/jq-interval-buckets]] | [[https://github.com/jqnpm/jq-disarray][jqnpm/jq-disarray]]        | [[https://github.com/jqnpm/jq-object-sorting][jqnpm/jq-object-sorting]]        |
| [[https://github.com/jqnpm/jq-fallbacks][jqnpm/jq-fallbacks]] | [[https://github.com/jqnpm/jq-math][jqnpm/jq-math]]             | [[https://github.com/jqnpm/jq-bigint][jqnpm/jq-bigint]]          | [[https://github.com/jqnpm/jq-bugfix-jq-552][jqnpm/jq-bugfix-jq-552]]         |
| [[https://github.com/jqnpm/jq-zeros][jqnpm/jq-zeros]]     | [[https://github.com/jqnpm/jq-counter-buckets][jqnpm/jq-counter-buckets]]  | [[https://github.com/jqnpm/jq-random-prng-vdc][jqnpm/jq-random-prng-vdc]] | [[https://github.com/jqnpm/jq-random-prng-bsd][jqnpm/jq-random-prng-bsd]]       |

#+begin_src xml :tangle jqnpm.xml :noweb yes
<manifest>
  <project name="jqnpm/jq-bigint" path="jqnpm/jq-bigint" revision="refs/heads/master" remote="github"/>
  <project name="jqnpm/jq-bugfix-jq-552" path="jqnpm/jq-bugfix-jq-552" revision="refs/heads/master" remote="github"/>
  <project name="jqnpm/jq-counter-buckets" path="jqnpm/jq-counter-buckets" revision="refs/heads/master" remote="github"/>
  <project name="jqnpm/jq-disarray" path="jqnpm/jq-disarray" revision="refs/heads/master" remote="github"/>
  <project name="jqnpm/jq-dry" path="jqnpm/jq-dry" revision="refs/heads/master" remote="github"/>
  <project name="jqnpm/jq-fallbacks" path="jqnpm/jq-fallbacks" revision="refs/heads/master" remote="github"/>
  <project name="jqnpm/jq-interval-buckets" path="jqnpm/jq-interval-buckets" revision="refs/heads/master" remote="github"/>
  <project name="jqnpm/jq-key-counter" path="jqnpm/jq-key-counter" revision="refs/heads/master" remote="github"/>
  <project name="jqnpm/jq-math" path="jqnpm/jq-math" revision="refs/heads/master" remote="github"/>
  <project name="jqnpm/jq-object-sorting" path="jqnpm/jq-object-sorting" revision="refs/heads/master" remote="github"/>
  <project name="jqnpm/jq-random-prng-bsd" path="jqnpm/jq-random-prng-bsd" revision="refs/heads/master" remote="github"/>
  <project name="jqnpm/jq-random-prng-microsoft" path="jqnpm/jq-random-prng-microsoft" revision="refs/heads/master" remote="github"/>
  <project name="jqnpm/jq-random-prng-vdc" path="jqnpm/jq-random-prng-vdc" revision="refs/heads/master" remote="github"/>
  <project name="jqnpm/jq-ratio-buckets" path="jqnpm/jq-ratio-buckets" revision="refs/heads/master" remote="github"/>
  <project name="jqnpm/jq-stress" path="jqnpm/jq-stress" revision="refs/heads/master" remote="github"/>
  <project name="jqnpm/jq-zeros" path="jqnpm/jq-zeros" revision="refs/heads/master" remote="github"/>
  <project name="jqnpm/jqnpm" path="tools/jqnpm" revision="refs/heads/master" remote="github" />
</manifest>
#+end_src

* Examples


#+begin_src xml :tangle eg.xml :noweb yes
<manifest>
  <!-- recipes -->
  <project name="nntrn/jq-recipes" path="eg/jq-recipes" revision="refs/heads/main" remote="github" />
  <project name="nntrn/open-data" path="eg/open-data" revision="refs/heads/devel" remote="github" />
  <project name="satisfice/jq_cookbook" path="eg/jq_cookbook" revision="refs/heads/main" remote="github" />
  <!-- applications -->
  <project name="barabo/fhir-jq" path="eg/fhir-jq" revision="refs/heads/main" remote="github" />
  <project name="joelpurra/ep-erroneous-votes" path="eg/ep-erroneous-votes" revision="refs/heads/master" remote="github" />
  <!-- har -->
  <project name="joelpurra/har-dulcify" path="eg/har-dulcify" revision="refs/heads/master" remote="github" />
</manifest>
#+end_src


** JQ Contents

#+begin_example text
.
├── eg
│   ├── fhir-jq
│   │   └── module
│   │       ├── fhir
│   │       │   ├── common.jq
│   │       │   ├── fhir.jq
│   │       │   └── r4
│   │       │       └── r4.jq
│   │       └── terminology
│   │           └── terminology.jq
│   ├── jq_cookbook
│   │   ├── collate-keys-get.jq
│   │   ├── collate-keys-index.jq
│   │   ├── collate-keys.jq
│   │   ├── find-key.jq
│   │   ├── har-getall-req-url.jq
│   │   ├── har-getall-res-url.jq
│   │   ├── har-getall-res-url-json.jq
│   │   ├── har-get-req.jq
│   │   ├── har-get-req-postdata.jq
│   │   ├── har-get-res.jq
│   │   ├── har-get-res-json.jq
│   │   ├── har-scan-req-domains-report.jq
│   │   ├── har-scan-req-domains-unique.jq
│   │   ├── har-scan-req-postdata-full.jq
│   │   ├── har-scan-req-postdata.jq
│   │   ├── har-scan-req-referrer-report.jq
│   │   ├── har-scan-req-referrer-unique.jq
│   │   ├── har-scan-req-urls-report.jq
│   │   ├── har-scan-req-urls-unique.jq
│   │   ├── har-scan-res-json-full.jq
│   │   ├── har-scan-res-json.jq
│   │   └── scan-key-values.jq
│   ├── jq-recipes
│   │   └── recipes.jq
│   └── open-data
│       └── scripts
│           └── views.jq
├── fq
│   ├── dev
│   │   ├── format_summary.jq
│   │   └── x264sei.jq
│   ├── doc
│   │   ├── formats_diagram.jq
│   │   └── formats.jq
│   ├── format
│   │   ├── apple
│   │   │   ├── bookmark
│   │   │   │   └── apple_bookmark.jq
│   │   │   └── bplist
│   │   │       ├── bplist.jq
│   │   │       └── ns_keyed_archiver.jq
│   │   ├── asn1
│   │   │   └── asn1_ber.jq
│   │   ├── bencode
│   │   │   └── bencode.jq
│   │   ├── bson
│   │   │   └── bson.jq
│   │   ├── cbor
│   │   │   └── cbor.jq
│   │   ├── crypto
│   │   │   ├── hash.jq
│   │   │   └── pem.jq
│   │   ├── csv
│   │   │   └── csv.jq
│   │   ├── json
│   │   │   ├── jq.jq
│   │   │   ├── json.jq
│   │   │   └── jsonl.jq
│   │   ├── leveldb
│   │   │   └── leveldb_descriptor.jq
│   │   ├── markdown
│   │   │   └── markdown.jq
│   │   ├── math
│   │   │   └── radix.jq
│   │   ├── matroska
│   │   │   └── matroska.jq
│   │   ├── mp4
│   │   │   └── mp4.jq
│   │   ├── msgpack
│   │   │   └── msgpack.jq
│   │   ├── nes
│   │   │   └── nes.jq
│   │   ├── text
│   │   │   └── encoding.jq
│   │   ├── tls
│   │   │   ├── ciphersuites
│   │   │   │   └── ciphersuites.jq
│   │   │   └── testdata
│   │   │       ├── ja3.jq
│   │   │       ├── split.jq
│   │   │       └── to_tar.jq
│   │   ├── toml
│   │   │   └── toml.jq
│   │   ├── xml
│   │   │   ├── html.jq
│   │   │   └── xml.jq
│   │   └── yaml
│   │       └── yaml.jq
│   └── pkg
│       └── interp
│           ├── ansi.jq
│           ├── args.jq
│           ├── args.jq.test
│           ├── binary.jq
│           ├── decode.jq
│           ├── eval.jq
│           ├── format_decode.jq
│           ├── format_func.jq
│           ├── funcs.jq
│           ├── funcs.jq.test
│           ├── grep.jq
│           ├── help.jq
│           ├── init.jq
│           ├── internal.jq
│           ├── interp.jq
│           ├── jqtest.jq
│           ├── options.jq
│           ├── query.jq
│           ├── query.jq.test
│           ├── registry_include.jq
│           └── repl.jq
├── jq
│   ├── gojq
│   │   ├── builtin.jq
│   │   └── cli
│   │       └── testdata
│   │           ├── 10.jq
│   │           ├── 11.jq
│   │           ├── 12.jq
│   │           ├── 13.jq
│   │           ├── 14.jq
│   │           ├── 1.jq
│   │           ├── 2.jq
│   │           ├── 4.jq
│   │           ├── 5.jq
│   │           ├── 6.jq
│   │           ├── 7.jq
│   │           ├── 8.jq
│   │           ├── 9.jq
│   │           ├── m1
│   │           │   └── m1.jq
│   │           ├── m2
│   │           │   ├── m2.jq
│   │           │   └── m3.jq
│   │           └── m3
│   │               └── m3.jq
│   ├── jess
│   │   ├── doc
│   │   │   └── JESS.jq.txt
│   │   └── JESS.jq
│   ├── jq
│   │   ├── src
│   │   │   └── builtin.jq
│   │   └── tests
│   │       ├── modules
│   │       │   ├── a.jq
│   │       │   ├── b
│   │       │   │   └── b.jq
│   │       │   ├── c
│   │       │   │   ├── c.jq
│   │       │   │   └── d.jq
│   │       │   ├── lib
│   │       │   │   └── jq
│   │       │   │       ├── e
│   │       │   │       │   └── e.jq
│   │       │   │       └── f.jq
│   │       │   ├── shadow1.jq
│   │       │   ├── shadow2.jq
│   │       │   ├── syntaxerror
│   │       │   │   └── syntaxerror.jq
│   │       │   ├── test_bind_order0.jq
│   │       │   ├── test_bind_order1.jq
│   │       │   ├── test_bind_order2.jq
│   │       │   └── test_bind_order.jq
│   │       ├── no-main-program.jq
│   │       ├── utf8-truncate.jq
│   │       └── yes-main-program.jq
│   ├── jqjq
│   │   └── jqjq.jq
│   └── jq-lsp
│       └── lsp
│           ├── builtin_env.jq
│           ├── docs.jq
│           ├── gen_builtin_env.jq
│           ├── gen_docs.jq
│           ├── lsp.jq
│           └── testdata
│               ├── at_func.jq
│               ├── completion.jq
│               ├── definition.jq
│               ├── did_change_regression1.jq
│               ├── dot-jq-lsp
│               │   └── test.jq
│               ├── first_column_error_lc.jq
│               ├── foreach-reduce-query.jq
│               ├── global_bindings.jq
│               ├── hover.jq
│               ├── import_as_binding.jq
│               ├── import_search
│               │   ├── a
│               │   │   └── b.jq
│               │   └── import.jq
│               ├── include_not_found.jq
│               ├── include_syntax_error.jq
│               ├── include_valid.jq
│               ├── keywords.jq
│               ├── not_found.jq
│               ├── object_val_query.jq
│               ├── syntax_error.jq
│               ├── syntax.jq
│               └── valid.jq
├── jqnpm
│   ├── jq-bigint
│   │   └── jq
│   │       └── main.jq
│   ├── jq-bugfix-jq-552
│   │   └── jq
│   │       └── main.jq
│   ├── jq-counter-buckets
│   │   └── jq
│   │       └── main.jq
│   ├── jq-disarray
│   │   └── jq
│   │       └── main.jq
│   ├── jq-dry
│   │   └── jq
│   │       └── main.jq
│   ├── jq-fallbacks
│   │   └── jq
│   │       └── main.jq
│   ├── jq-interval-buckets
│   │   └── jq
│   │       └── main.jq
│   ├── jq-key-counter
│   │   └── jq
│   │       └── main.jq
│   ├── jq-math
│   │   └── jq
│   │       └── main.jq
│   ├── jq-object-sorting
│   │   └── jq
│   │       └── main.jq
│   ├── jq-random-prng-bsd
│   │   └── jq
│   │       └── main.jq
│   ├── jq-random-prng-microsoft
│   │   └── jq
│   │       └── main.jq
│   ├── jq-random-prng-vdc
│   │   └── jq
│   │       └── main.jq
│   ├── jq-ratio-buckets
│   │   └── jq
│   │       └── main.jq
│   ├── jq-stress
│   │   └── jq
│   │       └── main.jq
│   └── jq-zeros
│       └── jq
│           └── main.jq
└── tools
    └── jqnpm
        ├── resources
        │   └── template
        │       └── package
        │           └── jq
        │               └── main.jq
        ├── src
        │   └── shared
        │       └── metadata
        │           └── main.jq.sh
        └── tests
            ├── install-add-manually
            │   └── package-source
            │       ├── anotheruser
            │       │   └── pack1
            │       │       └── jq
            │       │           └── main.jq
            │       └── someuser
            │           └── pack2
            │               └── jq
            │                   └── main.jq
            ├── jq-deep-dependencies
            │   ├── local-project
            │   │   └── jq
            │   │       └── main.jq
            │   └── package-source
            │       ├── anotheruser
            │       │   ├── pack1
            │       │   │   └── jq
            │       │   │       └── main.jq
            │       │   └── pack3
            │       │       └── jq
            │       │           └── main.jq
            │       └── someuser
            │           ├── pack2
            │           │   └── jq
            │           │       └── main.jq
            │           └── pack4
            │               └── jq
            │                   └── main.jq
            ├── jq-deep-execution
            │   ├── local-project
            │   │   └── one
            │   │       └── two
            │   │           └── deep.jq
            │   └── package-source
            │       └── anotheruser
            │           └── pack1
            │               └── jq
            │                   └── main.jq
            ├── jq-flat-dependencies
            │   ├── local-project
            │   │   └── jq
            │   │       └── main.jq
            │   └── package-source
            │       ├── anotheruser
            │       │   └── pack1
            │       │       └── jq
            │       │           └── main.jq
            │       └── someuser
            │           └── pack2
            │               └── jq
            │                   └── main.jq
            ├── jq-import-direct-file-paths
            │   ├── local-project
            │   │   ├── jq
            │   │   │   ├── main.jq
            │   │   │   ├── more
            │   │   │   │   └── subfolder.jq
            │   │   │   └── same-folder.jq
            │   │   ├── other
            │   │   │   └── sibling-folder.jq
            │   │   └── parent-folder.jq
            │   └── outside-of-package.jq
            ├── jq-mixed-level-dependencies
            │   ├── local-project
            │   │   └── jq
            │   │       └── main.jq
            │   └── package-source
            │       ├── anotheruser
            │       │   ├── pack1
            │       │   │   └── jq
            │       │   │       └── main.jq
            │       │   └── pack3
            │       │       └── jq
            │       │           └── main.jq
            │       └── someuser
            │           ├── pack2
            │           │   └── jq
            │           │       └── main.jq
            │           └── pack4
            │               └── jq
            │                   └── main.jq
            ├── jq-no-dependencies
            │   └── local-project
            │       └── jq
            │           └── main.jq
            ├── jq-non-standard-main-path
            │   └── local-project
            │       └── other
            │           └── location
            │               └── the-code.jq
            ├── jq-with-file-argument
            │   └── local-project
            │       ├── jq
            │       │   └── main.jq
            │       └── other.jq
            ├── jq-without-jq.json
            │   └── local-project
            │       └── jq
            │           └── main.jq
            └── jq-without-jq.json-nor-main.jq
                ├── local-project
                └── test.sh
#+end_example
